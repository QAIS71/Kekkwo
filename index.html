<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÙŠÙ„ÙÙŠ Ø§Ù„ÙØ¶Ø§Ø¡ | Space Selfie</title>
    <style>
        body { font-family: sans-serif; background: #0b0d17; color: white; text-align: center; padding: 20px; }
        .container { max-width: 600px; margin: auto; border: 1px solid #333; padding: 20px; border-radius: 15px; background: #161b22; }
        canvas { max-width: 100%; border-radius: 10px; margin-top: 20px; display: none; }
        input { margin: 20px 0; padding: 10px; }
        .btn { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; }
        .ads-box { margin-top: 30px; padding: 20px; background: #222; border: 1px dashed #555; color: #888; }
    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸš€ Ø³ÙŠÙ„ÙÙŠ Ø§Ù„ÙØ¶Ø§Ø¡ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ</h1>
        <p>Ø§Ø±ÙØ¹ ØµÙˆØ±ØªÙƒ Ù„ØªØ¸Ù‡Ø± ÙˆÙƒØ£Ù†Ù‡Ø§ Ø¯Ø§Ø®Ù„ Ù…Ø­Ø·Ø© Ø§Ù„ÙØ¶Ø§Ø¡ Ø§Ù„Ø¯ÙˆÙ„ÙŠØ©!</p>
        
        <div class="ads-box">Ø¥Ø¹Ù„Ø§Ù† Google AdSense Ù‡Ù†Ø§</div>

        <input type="file" id="upload" accept="image/*"><br>
        <button class="btn" onclick="generateSelfie()">Ø§ØµÙ†Ø¹ ØµÙˆØ±ØªÙƒ Ø§Ù„Ø¢Ù†</button>

        <canvas id="canvas"></canvas>
        
        <br>
        <a id="downloadLink" style="display:none;" class="btn" style="background: #28a745;">ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ‡Ø§</a>
    </div>

    <script>
        function generateSelfie() {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            const fileInput = document.getElementById('upload');
            
            if (fileInput.files.length === 0) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹!");
                return;
            }

            const userImg = new Image();
            const spaceBg = new Image();

            // Ø®Ù„ÙÙŠØ© Ø§Ù„ÙØ¶Ø§Ø¡ (ØµÙˆØ±Ø© Ù„Ù…Ø­Ø·Ø© Ø§Ù„ÙØ¶Ø§Ø¡ Ù…Ù† Ø§Ù„Ø¯Ø§Ø®Ù„ Ø¨Ù‡Ø§ Ø¥Ø·Ø§Ø± Ø´Ø§Ø´Ø©)
            spaceBg.src = 'https://i.imgur.com/8X8v6pS.jpg'; // Ø±Ø§Ø¨Ø· ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„ØµÙˆØ±Ø© Ù…Ø­Ø·Ø© Ø§Ù„ÙØ¶Ø§Ø¡
            
            userImg.src = URL.createObjectURL(fileInput.files[0]);

            userImg.onload = () => {
                // Ø¶Ø¨Ø· Ø­Ø¬Ù… Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³ Ù„ÙŠÙƒÙˆÙ† Ù†ÙØ³ Ø­Ø¬Ù… Ø®Ù„ÙÙŠØ© Ø§Ù„ÙØ¶Ø§Ø¡
                canvas.width = 800;
                canvas.height = 500;
                canvas.style.display = 'block';

                // 1. Ø±Ø³Ù… Ø®Ù„ÙÙŠØ© Ø§Ù„ÙØ¶Ø§Ø¡
                ctx.drawImage(spaceBg, 0, 0, 800, 500);

                // 2. Ø±Ø³Ù… ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¯Ø§Ø®Ù„ "Ø´Ø§Ø´Ø©" Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ÙÙŠ Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³
                // Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª (200, 150) ÙˆØ§Ù„Ø­Ø¬Ù… (250x180) Ù‡ÙŠ Ù…Ø«Ø§Ù„ Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ø´Ø§Ø´Ø© ÙÙŠ Ø§Ù„ØµÙˆØ±Ø©
                ctx.drawImage(userImg, 310, 145, 185, 125); 

                // 3. Ø¥Ø¶Ø§ÙØ© Ù†Øµ ØªÙˆØ¶ÙŠØ­ÙŠ (ØªØ°ÙƒØ±Ø© ØµØ¹ÙˆØ¯)
                ctx.font = "14px Arial";
                ctx.fillStyle = "white";
                ctx.fillText("Space Tourist: User", 50, 480);

                // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
                const link = document.getElementById('downloadLink');
                link.href = canvas.toDataURL("image/png");
                link.download = "my-space-selfie.png";
                link.style.display = 'inline-block';
            };
        }
    </script>
</body>
</html>
